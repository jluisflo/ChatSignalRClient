(this["webpackJsonpsignal-client-app"]=this["webpackJsonpsignal-client-app"]||[]).push([[0],{184:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),c=a.n(s),o=(a(113),a(9)),i=a.n(o),u=a(14),j=a(75),h=a(22),b=a(190),l=a(189),p=a(191),v=a(105),d=a(8),f=a(10),O=a(27),m=a(28),x=a(55),g=a(38),k=a(188),w=a(192),y=a(16),S=function(e){Object(O.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).props=void 0,n.props=e,n}return Object(f.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.messages!==e.messages&&this.setState({user:e.user,messages:e.messages})}},{key:"render",value:function(){var e=this;return Object(y.jsx)(x.a,{children:this.props.messages.map((function(t,a){return Object(y.jsx)(g.a,{span:13,offset:e.props.user.name===t.author?0:16,children:Object(y.jsx)(k.a,{style:{background:e.props.user.name===t.author?"#e3f2fd":"none",borderRadius:15,margin:10},author:t.author,avatar:Object(y.jsx)(w.a,{src:t.avatar,alt:t.author}),content:Object(y.jsx)("p",{children:t.message})})},a)}))})}}]),a}(n.Component),C=function e(t,a,n){Object(d.a)(this,e),this.author=void 0,this.message=void 0,this.avatar=void 0,this.author=t,this.message=a,this.avatar=n},E=function e(t,a){Object(d.a)(this,e),this.name=void 0,this.avatar=void 0,this.name=t,this.avatar=a},M=function(){var e=Object(n.useState)(null),t=Object(h.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(h.a)(s,2),o=c[0],d=c[1],f=Object(n.useState)(),O=Object(h.a)(f,2),m=O[0],x=O[1],g=Object(n.useState)(""),k=Object(h.a)(g,2),w=k[0],M=k[1],U=Object(n.useState)([]),R=Object(h.a)(U,2),J=R[0],A=R[1];Object(n.useEffect)((function(){var e=(new b.a).withUrl("https://localhost:7246/hub/chat").withAutomaticReconnect().build();r(e)}),[]),Object(n.useEffect)((function(){a&&a.start().then((function(){a.on("ReceiveMessage",(function(e){return A((function(t){return[].concat(Object(j.a)(t),[new C(e.author,e.message,e.avatar)])}))}))})).catch((function(e){return console.log(e)}))}),[a]);var B=function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}if(""===w){e.next=5;break}return r=new C(null!==(t=null===m||void 0===m?void 0:m.name)&&void 0!==t?t:"",w,null!==(n=null===m||void 0===m?void 0:m.avatar)&&void 0!==n?n:""),e.next=5,a.invoke("UserWrite",r).catch((function(e){return console.log(e)}));case 5:M("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===o){e.next=6;break}if(!a){e.next=6;break}return t=F(),e.next=5,a.invoke("UserConnected",new C(o,"",t)).catch((function(e){return console.log(e)}));case 5:x(new E(o,t));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=["//joeschmoe.io/api/v1/jon","//joeschmoe.io/api/v1/jean","//joeschmoe.io/api/v1/joe","//joeschmoe.io/api/v1/jed","//joeschmoe.io/api/v1/jeane","//joeschmoe.io/api/v1/jordan","//joeschmoe.io/api/v1/jack"];return e[Math.round(Math.random()*(e.length-0)+0)]};return m?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(S,{user:m,messages:J}),Object(y.jsxs)(l.a,{children:[Object(y.jsx)(p.a,{value:w,placeholder:"write your message",onChange:function(e){return M(e.target.value)}}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)(v.a,{onClick:B,type:"primary",children:"Send"})]})]}):Object(y.jsxs)(l.a,{children:[Object(y.jsx)("h1",{children:"Enter your name: "}),Object(y.jsx)(p.a,{value:o,onChange:function(e){d(e.target.value)}}),Object(y.jsx)("br",{}),Object(y.jsx)("br",{}),Object(y.jsx)(v.a,{onClick:D,type:"primary",children:"Save"})]})};c.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(x.a,{children:Object(y.jsx)(g.a,{span:12,offset:6,children:Object(y.jsx)(M,{})})})}),document.getElementById("root"))}},[[184,1,2]]]);
//# sourceMappingURL=main.e70a7b9b.chunk.js.map